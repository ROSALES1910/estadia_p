{% extends "layout/base.html" %}

{% block titulo %}Registro de Alumno{% endblock %}

{% block menu %}
  {% include "layout/menu_general.html" %}
{% endblock %}

{% block contenido %}

<!-- BOOTSTRAP + ICONOS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/formularios.css') }}">

<main class="dashboard-main">
  <div class="dashboard-body">

    <!-- ALERTAS -->
    {% if mensaje %}
    <div class="alert alert-success d-flex align-items-center fade show alerta-bootstrap" role="alert">
      <i class="bi bi-check-circle-fill me-2"></i>
      {{ mensaje }}
    </div>
    {% endif %}

    {% if error %}
    <div class="alert alert-danger d-flex align-items-center fade show alerta-bootstrap" role="alert">
      <i class="bi bi-exclamation-triangle-fill me-2"></i>
      {{ error }}
    </div>
    {% endif %}

    <!-- TÍTULO ALINEADO -->
    <div class="titulo-alineado">
      <h2>Registro de Alumno</h2>
    </div>

    <!-- FORMULARIO -->
    <form method="post" action="/alumnos/registrar" class="formulario formulario--wide">

      <div class="form-secciones">

        <fieldset>
          <legend>Datos personales</legend>

          <label for="nombre">Nombre:</label>
          <input type="text" name="nombre" id="nombre" value="{{ datos.nombre }}" required>

          <label for="apellido_paterno">Apellido Paterno:</label>
          <input type="text" name="apellido_paterno" id="apellido_paterno" value="{{ datos.apellido_paterno }}" required>

          <label for="apellido_materno">Apellido Materno:</label>
          <input type="text" name="apellido_materno" id="apellido_materno" value="{{ datos.apellido_materno }}" required>

          <label for="matricula">Matrícula o número de control:</label>
          <input type="text" name="matricula" id="matricula" value="{{ datos.matricula }}" required>

          <label for="telefono">Teléfono:</label>
          <input type="tel" name="telefono" id="telefono" value="{{ datos.telefono }}" required>

          <label for="email">E-mail:</label>
          <input type="email" name="email" id="email" value="{{ datos.email }}" required>
        </fieldset>

        <fieldset>
          <legend>Datos académicos</legend>

          <label for="escolaridad">Escolaridad:</label>
          <select name="escolaridad" id="escolaridad" required>
            <option value="">Selecciona</option>
            <option value="bachillerato" {% if datos.escolaridad=='bachillerato' %}selected{% endif %}>Bachillerato</option>
            <option value="licenciatura" {% if datos.escolaridad=='licenciatura' %}selected{% endif %}>Licenciatura</option>
            <option value="posgrado" {% if datos.escolaridad=='posgrado' %}selected{% endif %}>Posgrado</option>
          </select>

          <label for="semestre">Semestre:</label>
          <input type="text" name="semestre" id="semestre" value="{{ datos.semestre }}" required>

          <label for="institucion">Institución:</label>
          <input type="text" name="institucion" id="institucion" value="{{ datos.institucion }}" required>

          <label for="clave_institucion">Clave de institución:</label>
          <input type="text" name="clave_institucion" id="clave_institucion" value="{{ datos.clave_institucion }}" required>

          <label for="ocupacion">Ocupación:</label>
          <input type="text" name="ocupacion" id="ocupacion" value="{{ datos.ocupacion }}" required>

          <label for="documentacion">Documentación:</label>
          <select name="documentacion" id="documentacion" required>
            <option value="">Selecciona</option>
            <option value="incompleta" {% if datos.documentacion=='incompleta' %}selected{% endif %}>Incompleta</option>
            <option value="completa" {% if datos.documentacion=='completa' %}selected{% endif %}>Completa</option>
          </select>
        </fieldset>

      </div>

      <div class="form-full">
        <label for="comentarios">Comentarios:</label>
        <textarea name="comentarios" id="comentarios">{{ datos.comentarios }}</textarea>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Registrar</button>
        <a href="/dashboard" class="btn-regresar">Regresar</a>
      </div>

    </form>
  </div>
</main>

<!-- BOOTSTRAP JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}