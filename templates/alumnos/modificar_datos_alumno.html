{% extends "layout/base.html" %}

{% block titulo %}Modificar datos del alumno{% endblock %}

{% block contenido %}
<style>
  .btn-regresar {
    display: inline-block;
    margin-left: 1rem;
    padding: 0.5rem 1rem;
    background-color: #555;
    color: #fff;
    text-decoration: none;
    border-radius: 4px;
    font-weight: bold;
    transition: background-color 0.3s ease;
  }

  .btn-regresar:hover {
    background-color: #333;
  }

  .form-actions {
    margin-top: 1.5rem;
    display: flex;
    gap: 1rem;
    align-items: center;
  }

  .formulario-alumno fieldset {
    border: 1px solid #ccc;
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 6px;
  }

  .formulario-alumno label {
    display: block;
    margin-top: 0.8rem;
    font-weight: bold;
  }

  .formulario-alumno input,
  .formulario-alumno select,
  .formulario-alumno textarea {
    width: 100%;
    padding: 0.4rem;
    margin-top: 0.2rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    background-color: #f9f9f9;
  }

  .form-secciones {
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .form-secciones fieldset {
    flex: 1 1 45%;
    min-width: 300px;
  }

  .form-full {
    margin-top: 1rem;
  }

  .alerta-exito {
    background-color: #d4edda;
    color: #155724;
    padding: 0.8rem;
    border-radius: 4px;
    margin-bottom: 1rem;
  }

  .alerta-error {
    background-color: #f8d7da;
    color: #721c24;
    padding: 0.8rem;
    border-radius: 4px;
    margin-bottom: 1rem;
  }
</style>

<main class="dashboard-main">
  <div class="dashboard-header">
    <form action="{{ url_for('logout') }}" method="post" class="logout-form">
      <button type="submit" class="logout-button" title="Cerrar sesión">⏻</button>
    </form>
  </div>

  <div class="dashboard-body">
    <h2>Modificar datos del alumno</h2>

    {% if mensaje %}
      <div class="alerta-exito">{{ mensaje }}</div>
    {% endif %}
    {% if error %}
      <div class="alerta-error">{{ error }}</div>
    {% endif %}

    <form method="post" action="/alumnos/modificar" class="formulario-alumno">
      <fieldset>
        <legend>Seleccionar alumno</legend>
        <label for="alumno">Alumno:</label>
        <select name="alumno" id="alumno" required>
          <option value="">Selecciona un alumno</option>
          {% for alumno in alumnos %}
            <option value="{{ alumno._id }}">{{ alumno.nombre }}</option>
          {% endfor %}
        </select>
      </fieldset>

      <div class="form-secciones">
        <fieldset>
          <legend>Datos personales</legend>
          <label for="nombre">Nombre:</label>
          <input type="text" name="nombre" id="nombre">

          <label for="apellido_paterno">Apellido Paterno:</label>
          <input type="text" name="apellido_paterno" id="apellido_paterno">

          <label for="apellido_materno">Apellido Materno:</label>
          <input type="text" name="apellido_materno" id="apellido_materno">

          <label for="telefono">Teléfono:</label>
          <input type="tel" name="telefono" id="telefono">

          <label for="email">E-mail:</label>
          <input type="email" name="email" id="email">
        </fieldset>

        <fieldset>
          <legend>Datos académicos</legend>
          <label for="matricula">Matrícula:</label>
          <input type="text" name="matricula" id="matricula">

          <label for="escolaridad">Escolaridad:</label>
          <select name="escolaridad" id="escolaridad">
            <option value="">Selecciona</option>
            <option value="Bachillerato">Bachillerato</option>
            <option value="Licenciatura">Licenciatura</option>
            <option value="Posgrado">Posgrado</option>
          </select>

          <label for="semestre">Semestre:</label>
          <input type="text" name="semestre" id="semestre">

          <label for="institucion">Institución:</label>
          <input type="text" name="institucion" id="institucion">

          <label for="carrera">Carrera:</label>
          <input type="text" name="carrera" id="carrera">
        </fieldset>
      </div>

      <div class="form-full">
        <label for="comentarios">Comentarios:</label>
        <textarea name="comentarios" id="comentarios"></textarea>
      </div>

      <div class="form-actions">
        <button type="submit">Guardar cambios</button>
        <a href="/dashboard" class="btn-regresar">Regresar</a>
      </div>
    </form>
  </div>
</main>
{% endblock %}