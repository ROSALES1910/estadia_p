{% extends "layout/base.html" %}

{% block titulo %}Registro de Alumno{% endblock %}

{% block menu %}
  {% include "layout/menu_general.html" %}
{% endblock %}

{% block contenido %}
<!-- Enlaza tus estilos globales -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/formularios.css') }}">

<main class="dashboard-main">

  <div class="dashboard-body">
    <h2>Registro de Alumno</h2>

    {% if mensaje %}
      <div class="alerta-exito">{{ mensaje }}</div>
    {% endif %}
    {% if error %}
      <div class="alerta-error">{{ error }}</div>
    {% endif %}

    <form method="post" action="/alumnos/registrar" class="formulario" novalidate>
      <div class="form-secciones">
        <!-- Columna izquierda -->
        <fieldset>
          <legend>Datos personales</legend>

          <label for="nombre">Nombre:</label>
          <input type="text" name="nombre" id="nombre" value="{{ datos.nombre if datos is defined else '' }}" required>

          <label for="apellido_paterno">Apellido Paterno:</label>
          <input type="text" name="apellido_paterno" id="apellido_paterno" value="{{ datos.apellido_paterno if datos is defined else '' }}" required>

          <label for="apellido_materno">Apellido Materno:</label>
          <input type="text" name="apellido_materno" id="apellido_materno" value="{{ datos.apellido_materno if datos is defined else '' }}">

          <label for="matricula">Matrícula o número de control:</label>
          <input type="text" name="matricula" id="matricula" value="{{ datos.matricula if datos is defined else '' }}" required>

          <label for="telefono">Teléfono:</label>
          <input type="tel" name="telefono" id="telefono" value="{{ datos.telefono if datos is defined else '' }}">

          <label for="email">E-mail:</label>
          <input type="email" name="email" id="email" value="{{ datos.email if datos is defined else '' }}" required>
        </fieldset>

        <!-- Columna derecha -->
        <fieldset>
          <legend>Datos académicos</legend>

          <label for="escolaridad">Escolaridad:</label>
          <select name="escolaridad" id="escolaridad" required>
            <option value="">Selecciona</option>
            <option value="bachillerato" {% if datos and datos.escolaridad == 'bachillerato' %}selected{% endif %}>Bachillerato</option>
            <option value="licenciatura" {% if datos and datos.escolaridad == 'licenciatura' %}selected{% endif %}>Licenciatura</option>
            <option value="posgrado" {% if datos and datos.escolaridad == 'posgrado' %}selected{% endif %}>Posgrado</option>
          </select>

          <label for="semestre">Semestre:</label>
          <input type="text" name="semestre" id="semestre" value="{{ datos.semestre if datos is defined else '' }}">

          <label for="institucion">Institución:</label>
          <input type="text" name="institucion" id="institucion" value="{{ datos.institucion if datos is defined else '' }}">

          <label for="clave_institucion">Clave de institución:</label>
          <input type="text" name="clave_institucion" id="clave_institucion" value="{{ datos.clave_institucion if datos is defined else '' }}">

          <label for="ocupacion">Ocupación:</label>
          <input type="text" name="ocupacion" id="ocupacion" value="{{ datos.ocupacion if datos is defined else '' }}">

          <label for="documentacion">Documentación:</label>
          <select name="documentacion" id="documentacion" required>
            <option value="">Selecciona</option>
            <option value="incompleta" {% if datos and datos.documentacion == 'incompleta' %}selected{% endif %}>Incompleta</option>
            <option value="completa" {% if datos and datos.documentacion == 'completa' %}selected{% endif %}>Completa</option>
          </select>
        </fieldset>
      </div>

      <!-- Comentarios -->
      <div class="form-full">
        <label for="comentarios">Comentarios:</label>
        <textarea name="comentarios" id="comentarios">{{ datos.comentarios if datos is defined else '' }}</textarea>
      </div>

      <!-- Botones -->
      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Registrar</button>
        <a href="/dashboard" class="btn-regresar">Regresar</a>
      </div>
    </form>
  </div>
</main>
{% endblock %}